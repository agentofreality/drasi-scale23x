<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 783 210" width="783" height="210">
  <defs>
    <marker id="arr-m" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#42affa"/>
    </marker>
  </defs>

  <!-- ══════════════════════════════════════════════════
       LEFT COLUMN: Sources
  ══════════════════════════════════════════════════ -->
  <text x="82" y="13" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="10" fill="rgba(255,255,255,0.38)" letter-spacing="0.5">SOURCES</text>

  <!-- Source A: PostgreSQL -->
  <rect x="10" y="20" width="145" height="50" rx="8"
        fill="rgba(66,175,250,0.10)" stroke="#42affa" stroke-width="1.5"/>
  <text x="82" y="45" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="12" font-weight="600" fill="white">PostgreSQL</text>
  <text x="82" y="60" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="9.5" fill="rgba(255,255,255,0.42)">relational database</text>

  <!-- Source B: Cosmos DB -->
  <rect x="10" y="83" width="145" height="50" rx="8"
        fill="rgba(66,175,250,0.10)" stroke="#42affa" stroke-width="1.5"/>
  <text x="82" y="108" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="12" font-weight="600" fill="white">Cosmos DB</text>
  <text x="82" y="123" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="9.5" fill="rgba(255,255,255,0.42)">document store</text>

  <!-- Source C: Kubernetes -->
  <rect x="10" y="146" width="145" height="50" rx="8"
        fill="rgba(66,175,250,0.10)" stroke="#42affa" stroke-width="1.5"/>
  <text x="82" y="171" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="12" font-weight="600" fill="white">Kubernetes</text>
  <text x="82" y="186" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="9.5" fill="rgba(255,255,255,0.42)">API resources</text>

  <!-- Converging lines → join point → CQ left edge -->
  <!-- A top: right edge (155,45) → elbow → join (190,108) → CQ (218,108) -->
  <polyline points="155,45 190,45 190,108"
            fill="none" stroke="rgba(66,175,250,0.55)" stroke-width="1.5"/>
  <!-- B mid: straight (155,108) → (218,108) with arrowhead -->
  <line x1="155" y1="108" x2="218" y2="108"
        stroke="#42affa" stroke-width="1.8" marker-end="url(#arr-m)"/>
  <!-- C bot: right edge (155,171) → elbow → join (190,108) -->
  <polyline points="155,171 190,171 190,108"
            fill="none" stroke="rgba(66,175,250,0.55)" stroke-width="1.5"/>

  <!-- ══════════════════════════════════════════════════
       CENTER: Continuous Queries (prominent)
  ══════════════════════════════════════════════════ -->
  <circle cx="232" cy="58" r="9" fill="#42affa"/>
  <text x="232" y="62" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="10" font-weight="700" fill="#000">CQ</text>

  <rect x="218" y="46" width="346" height="124" rx="10"
        fill="rgba(66,175,250,0.14)" stroke="#42affa" stroke-width="2.5"/>

  <text x="391" y="98" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="15" font-weight="700" fill="white">Continuous Queries</text>
  <text x="391" y="117" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="10.5" fill="rgba(255,255,255,0.45)">openCypher · GQL · perpetually running</text>

  <!-- "live result set" badge -->
  <rect x="328" y="130" width="126" height="22" rx="11"
        fill="rgba(66,175,250,0.15)" stroke="rgba(66,175,250,0.60)" stroke-width="1"/>
  <text x="391" y="145" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="9.5" font-weight="600" fill="#42affa">live result set</text>

  <!-- Diverging lines from CQ right edge (564,108) → split point → reactions -->
  <!-- split point x=598 -->
  <!-- A top: (564,108) → (598,108) → (598,45) → (628,45) -->
  <polyline points="564,108 598,108 598,45"
            fill="none" stroke="rgba(66,175,250,0.55)" stroke-width="1.5"/>
  <line x1="598" y1="45" x2="628" y2="45"
        stroke="#42affa" stroke-width="1.8" marker-end="url(#arr-m)"/>
  <!-- B mid: straight with arrowhead -->
  <line x1="564" y1="108" x2="628" y2="108"
        stroke="#42affa" stroke-width="1.8" marker-end="url(#arr-m)"/>
  <!-- C bot: (564,108) → (598,108) → (598,171) → (628,171) -->
  <polyline points="564,108 598,108 598,171"
            fill="none" stroke="rgba(66,175,250,0.55)" stroke-width="1.5"/>
  <line x1="598" y1="171" x2="628" y2="171"
        stroke="#42affa" stroke-width="1.8" marker-end="url(#arr-m)"/>

  <!-- ══════════════════════════════════════════════════
       RIGHT COLUMN: Reactions
  ══════════════════════════════════════════════════ -->
  <text x="700" y="13" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="10" fill="rgba(255,255,255,0.38)" letter-spacing="0.5">REACTIONS</text>

  <!-- Reaction A: Webhook -->
  <rect x="628" y="20" width="145" height="50" rx="8"
        fill="rgba(66,175,250,0.10)" stroke="#42affa" stroke-width="1.5"/>
  <text x="700" y="45" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="12" font-weight="600" fill="white">Webhook</text>
  <text x="700" y="60" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="9.5" fill="rgba(255,255,255,0.42)">HTTP · Serverless</text>

  <!-- Reaction B: SignalR -->
  <rect x="628" y="83" width="145" height="50" rx="8"
        fill="rgba(66,175,250,0.10)" stroke="#42affa" stroke-width="1.5"/>
  <text x="700" y="108" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="12" font-weight="600" fill="white">SignalR / SSE</text>
  <text x="700" y="123" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="9.5" fill="rgba(255,255,255,0.42)">real-time UI</text>

  <!-- Reaction C: Event Grid -->
  <rect x="628" y="146" width="145" height="50" rx="8"
        fill="rgba(66,175,250,0.10)" stroke="#42affa" stroke-width="1.5"/>
  <text x="700" y="171" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="12" font-weight="600" fill="white">Event Grid</text>
  <text x="700" y="186" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="9.5" fill="rgba(255,255,255,0.42)">Dapr · EventBridge</text>

  <!-- ══════════════════════════════════════════════════
       Bottom note: typed change events
  ══════════════════════════════════════════════════ -->
  <text x="450" y="207" text-anchor="middle"
        font-family="system-ui,-apple-system,sans-serif"
        font-size="10.5" fill="rgba(66,175,250,0.45)">change events are typed:  added · updated (before &amp; after) · deleted</text>
</svg>
